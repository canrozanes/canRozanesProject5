(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(31),s=a.n(i),o=a(32),c=a(6),l=a(7),m=a(9),p=a(8),h=a(10),u=a(22),d=a.n(u),f=a(33),y=a.n(f),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).todayOffset=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"wrapper formBox"},r.a.createElement("h1",null,"Commuter.Weather"),r.a.createElement("p",null,"Tell us when your commute is, we'll tell you how the weather will be."),r.a.createElement("form",{action:""},r.a.createElement("div",{className:"formInput"},r.a.createElement("label",{className:"bold",htmlFor:"location"},"City:"),r.a.createElement("input",{className:"textInput",type:"text",id:"location",placeholder:"enter city name",value:this.props.locationName,onChange:this.props.handleLocation})),r.a.createElement("div",{className:"formInput"},r.a.createElement("label",{className:"bold",htmlFor:"time1"},"Commute to Work Start Time:"),r.a.createElement(y.a,{className:"datePicker",onChange:this.props.handleChange1,value:this.props.time1,format:"y-MM-dd HH:mm",maxDate:this.todayOffset(7),minDate:this.todayOffset(-1),required:!0})),r.a.createElement("div",{className:"formInput"},r.a.createElement("label",{className:"bold",htmlFor:"time2"},"Commute to Home Start Time:"),r.a.createElement(y.a,{className:"datePicker",onChange:this.props.handleChange2,value:this.props.time2,format:"y-MM-dd HH:mm",maxDate:this.todayOffset(7),minDate:this.todayOffset(-1),required:!0})),r.a.createElement("button",{onClick:this.props.time1&&this.props.time1?this.props.kickOff:"",className:"greenButton"},"Display Weather"))))}}]),t}(n.Component),w=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getTimefromDate=function(e){var t=e.getHours();t<10&&(t="0"+t);var a=e.getMinutes();return a<10&&(a="0"+a),"".concat(t,":").concat(a)},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"weatherResult"},r.a.createElement("h2",null,"Weather forecast for ",r.a.createElement("span",{className:"bold"},this.getTimefromDate(this.props.time))),r.a.createElement("div",{className:"weatherData"},r.a.createElement("div",{className:"importantData"},r.a.createElement("div",{className:"iconContainer"},r.a.createElement("img",{src:"./assets/weatherIcons/".concat(this.props.icon,".svg"),alt:"".concat(this.props.icon," icon")})),r.a.createElement("h3",null,this.props.summary),r.a.createElement("div",{className:"temperature"},r.a.createElement("h3",null,Math.round(this.props.temperature)," ","\xb0"," C"))),r.a.createElement("div",{className:"extraData"},r.a.createElement("div",{className:"apparentTemp numberItem"},r.a.createElement("h4",null,"Feels like:"),r.a.createElement("p",null,Math.round(this.props.apparentTemp)," ","\xb0"," C")),r.a.createElement("div",{className:"precipProbability numberItem"},r.a.createElement("h4",null,"Chance of Precipitation: "),r.a.createElement("p",null,"".concat(Math.round(100*this.props.precipProbability),"%"))),r.a.createElement("div",{className:"precipIntensity numberItem"},r.a.createElement("h4",null,"Precipitation: "),r.a.createElement("p",null,"".concat(Math.round(100*this.props.precipIntensity)/100," mm/hr"))),r.a.createElement("div",{className:"humidity numberItem"},r.a.createElement("h4",null,"Humiditiy:"),r.a.createElement("p",null,"".concat(Math.round(100*this.props.humidity)," %"))),r.a.createElement("div",{className:"windSpeed numberItem"},r.a.createElement("h4",null,"Wind:"),r.a.createElement("p",null,"".concat(Math.round(3600*this.props.windSpeed/1e3)," km/hr"))))))}}]),t}(n.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement("a",{href:"https://darksky.net/poweredby/"}," Powered by Dark Sky API "),r.a.createElement("p",null," Built by Can Rozanes "),r.a.createElement("a",{href:"https://www.iconfinder.com/iconsets/weather-color-2"}," Weather Icons by Yun Liu")))}}]),t}(n.Component),D=(a(116),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(m.a)(this,Object(p.a)(t).call(this))).todaysDate=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getDate();n<10&&(n="0"+n);var r=e.getHours();r<10&&(r="0"+r);var i=e.getMinutes();return i<10&&(i="0"+i),new Date("".concat(t,"-").concat(a,"-").concat(n,"T").concat(r,":00:00"))},e.handleChange1=function(t){e.setState({time1:t})},e.handleChange2=function(t){e.setState({time2:t})},e.handleLocation=function(t){e.setState({locationName:t.target.value})},e.kickOff=function(t){t.preventDefault(),e.setState({formattedTime1:e.formatDate(e.state.time1),formattedTime2:e.formatDate(e.state.time2)}),e.getCityCoordinate(e.state.locationName)},e.formatDate=function(e){var t=e.getFullYear(),a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getDate();n<10&&(n="0"+n);var r=e.getHours();r<10&&(r="0"+r);var i=e.getMinutes();return i<10&&(i="0"+i),"".concat(t,"-").concat(a,"-").concat(n,"T").concat(r,":").concat(i,":00")},e.getWeatherData=function(t,a){console.log(t),d()({url:"https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/c369d6cf3852faec4a3db6128422f86a/".concat(e.state.latt,",").concat(e.state.long,",").concat(t,"?units=si")}).then(function(t){console.log(t.data),e.setState(Object(o.a)({},a,t.data.currently)),e.assignStates(a),e.refToWeather.current&&window.scrollTo(0,e.refToWeather.current.offsetTop)})},e.getCityCoordinate=function(t){d()({url:"https://nominatim.openstreetmap.org/search",method:"GET",params:{q:t,format:"json",addressdetails:1,limit:1}}).then(function(t){e.setState({latt:t.data[0].lat,long:t.data[0].lon}),e.getWeatherData(e.state.formattedTime1,"weatherData1"),e.getWeatherData(e.state.formattedTime2,"weatherData2")}).catch(function(t){e.setState({error:t.message})})},e.getCityNameFromCoordinates=function(t,a){d()({url:"https://nominatim.openstreetmap.org/reverse?",method:"GET",params:{lat:t,lon:a,format:"json",addressdetails:1,limit:1}}).then(function(t){var a=t.data.address.city;e.setState({locationName:a})}).catch(function(t){e.setState({error:t.message})})},e.assignStates=function(t){var a="parsed"+t,n={humidity:e.state[t].humidity,icon:e.state[t].icon,precipIntensity:e.state[t].precipIntensity,precipProbability:e.state[t].precipProbability,summary:e.state[t].summary,temperature:e.state[t].temperature,apparentTemp:e.state[t].apparentTemperature,windSpeed:e.state[t].windSpeed,serverTime:e.readableDate(e.state[t].time)};e.setState(Object(o.a)({},a,n))},e.displayRainMessage=function(){if(("rain"===e.state.weatherData1.icon||"rain"===e.state.weatherData1.icon)&&0!==e.state.weatherData1.precipIntensity&&e.state.weatherData1.precipIntensity<=.4&&0!==e.state.weatherData2.precipIntensity&&e.state.weatherData2.precipIntensity<.4)return r.a.createElement("p",{className:"wrapper message"},"".concat(Math.round(100*Math.max(e.state.weatherData1.precipIntensity,e.state.weatherData2.precipIntensity))/100," mm/hr is really not a lot of rain you can still bike!"))},e.readableDate=function(e){var t,a=new Date(1e3*e),n=["January","February","March","April","May","June","July","August","September","October","November","December"][a.getMonth()],r=a.getDate();t=r.toString().endsWith("11",2)?"th":r.toString().endsWith("1",1)?"st":r.toString().endsWith("2",1)?"nd":r.toString().endsWith("3",1)?"rd":"th";var i=a.getHours(),s="0"+a.getMinutes();return"".concat(n," ").concat(r).concat(t,", ").concat(i,":").concat(s.substr(-2))},e.getLocationInfo=function(t){e.setState({long:t.coords.longitude,latt:t.coords.latitude}),e.getCityNameFromCoordinates(e.state.latt,e.state.long)},e.refToWeather=r.a.createRef(),e.state={time1:e.todaysDate(),time2:e.todaysDate(),formattedTime1:"",formattedTime2:"",parsedweatherData1:{},parsedweatherData2:{},locationName:"",counter:0,latt:"",long:"",refToWeather:"",error:null},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.getLocationInfo)}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,{time1:this.state.time1,time2:this.state.time2,handleChange1:this.handleChange1,handleChange2:this.handleChange2,handleLocation:this.handleLocation,kickOff:this.kickOff,locationName:this.state.locationName,latt:this.state.latt,long:this.state.long}),this.state.weatherData1&&this.state.weatherData2?r.a.createElement("main",{ref:this.refToWeather},r.a.createElement("div",{className:"weatherResults wrapper"},r.a.createElement(w,{humidity:this.state.parsedweatherData1.humidity,icon:this.state.parsedweatherData1.icon,precipIntensity:this.state.parsedweatherData1.precipIntensity,precipProbability:this.state.parsedweatherData1.precipProbability,summary:this.state.parsedweatherData1.summary,temperature:this.state.parsedweatherData1.temperature,apparentTemp:this.state.parsedweatherData1.apparentTemp,windSpeed:this.state.parsedweatherData1.windSpeed,time:this.state.time1}),r.a.createElement(w,{humidity:this.state.parsedweatherData2.humidity,icon:this.state.parsedweatherData2.icon,precipIntensity:this.state.parsedweatherData2.precipIntensity,precipProbability:this.state.parsedweatherData2.precipProbability,summary:this.state.parsedweatherData2.summary,temperature:this.state.parsedweatherData2.temperature,apparentTemp:this.state.parsedweatherData2.apparentTemp,windSpeed:this.state.parsedweatherData2.windSpeed,time:this.state.time2})),this.displayRainMessage(),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("button",{onClick:function(){window.location.reload()},className:"greenButton"},"Refresh"))):"",r.a.createElement(b,null))}}]),t}(n.Component));s.a.render(r.a.createElement(D,null),document.getElementById("root"))},47:function(e,t,a){e.exports=a(117)}},[[47,1,2]]]);
//# sourceMappingURL=main.967e947a.chunk.js.map